(window.webpackJsonphackernews=window.webpackJsonphackernews||[]).push([[0],{20:function(e,t,a){e.exports=a(45)},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var s=a(0),o=a.n(s),n=a(18),r=a(3),l=a(4),c=a(6),i=a(5),p=a(7),g=a.n(p),u=a(19),m=a.n(u),d=a(2),h=a.n(d),f=(a(44),function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).handleitems=function(e){var t=e.target.value;s.setState({perpage:parseInt(t)},(function(){s.setState({pageCount:Math.ceil(s.props.story.length/s.state.perpage)},(function(){var e=s.state.orgtabledata.slice(s.state.offset,s.state.offset+s.state.perpage);s.setState({tabledata:e})}))}))},s.handleChange=function(e){console.log(e.target.value);var t=e.target.value;s.setState({sort:e.target.value},(function(){if(console.log(s.state.sort),"title"===t){s.setState({sort:"title"});var e=h.a.orderBy(s.state.orgtabledata,["title"],["asc"]);console.log(e),s.setState({orgtabledata:e},(function(){var e=s.state.orgtabledata,t=e.slice(s.state.offset,s.state.offset+s.state.perpage);s.setState({pageCount:Math.ceil(e.length/s.state.perpage),tabledata:t})}))}"time"===t&&(e=h.a.orderBy(s.state.orgtabledata,["time"],["asc"]),console.log(e),s.setState({orgtabledata:s.props.story},(function(){var e=s.state.orgtabledata,t=e.slice(s.state.offset,s.state.offset+s.state.perpage);s.setState({pageCount:Math.ceil(e.length/s.state.perpage),tabledata:t})}))),"by"===t&&(s.setState({sort:"by"}),e=h.a.orderBy(s.state.orgtabledata,["by"],["asc"]),console.log(e),s.setState({orgtabledata:e},(function(){var e=s.state.orgtabledata,t=e.slice(s.state.offset,s.state.offset+s.state.perpage);s.setState({pageCount:Math.ceil(e.length/s.state.perpage),tabledata:t})}))),"score"===t&&(s.setState({sort:"score"}),e=h.a.orderBy(s.state.orgtabledata,["score"],["desc"]),console.log(e),s.setState({orgtabledata:e},(function(){var e=s.state.orgtabledata,t=e.slice(s.state.offset,s.state.offset+s.state.perpage);s.setState({pageCount:Math.ceil(e.length/s.state.perpage),tabledata:t})})))}))},s.handlepageclick=function(e){var t=e.selected,a=t*s.state.perpage;s.setState({currentPage:t,offset:a},(function(){s.loadMoreData()}))},s.state={offset:0,tabledata:[{}],orgtabledata:[{}],sortdata:[{}],perpage:10,currentpage:0,sort:"time",ord:""},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getdata()}},{key:"getdata",value:function(){var e=this;this.setState({orgtabledata:this.props.story,pageCount:Math.ceil(this.props.story.length/this.state.perpage)},(function(){var t=e.state.orgtabledata.slice(e.state.offset,e.state.offset+e.state.perpage);e.setState({tabledata:t})}))}},{key:"loadMoreData",value:function(){var e=this.state.orgtabledata,t=e.slice(this.state.offset,this.state.offset+this.state.perpage);this.setState({pageCount:Math.ceil(e.length/this.state.perpage),tabledata:t})}},{key:"render",value:function(){return this.props.story&&o.a.createElement("div",{className:"maindiv"},o.a.createElement("div",{className:"sort"},o.a.createElement("label",{htmlFor:"sort"},"SORT BY",o.a.createElement("select",{id:"sort",defaultValue:this.state.sort,onChange:this.handleChange},o.a.createElement("option",{value:"time"},"time"),o.a.createElement("option",{value:"title"},"title"),o.a.createElement("option",{value:"score"},"score"),o.a.createElement("option",{value:"by"},"score"))),o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"itemsperpage"},"Display Items per page:",o.a.createElement("select",{id:"itemsperpage",style:{backgroundColor:"antiquewhite"},defaultValue:this.state.itemsperpage,onChange:this.handleitems},o.a.createElement("option",{value:"10"},"10"),o.a.createElement("option",{value:"20"},"20"),o.a.createElement("option",{value:"30"},"30"),o.a.createElement("option",{value:"40"},"40"))))),o.a.createElement("h1",{className:"heading"},"Hacker New Stories"),o.a.createElement("div",{className:"back"},this.state.tabledata.map((function(e,t){return o.a.createElement("div",{className:"StoryWrapper",key:t},o.a.createElement("a",{className:"hello",href:e.url},o.a.createElement("div",{className:"storytitle"},e.title),o.a.createElement("div",{className:"body"},o.a.createElement("span",{className:"story-by",style:{color:"black",fontWeight:"800"}},"By:"),o.a.createElement("span",{className:"story-by",style:{color:"black"}},e.by," "),o.a.createElement("span",{className:"store-score",style:{color:"black",fontWeight:"800"}},"score:"),o.a.createElement("span",{className:"store-score",style:{color:"black"}},e.score," "),o.a.createElement("span",{className:"story-time",style:{color:"black",fontWeight:"700"}},"posted:"," ","  "),o.a.createElement("span",{className:"story-time",style:{color:"black"}}," "," ",function(e){var t=Math.floor((new Date-1e3*e)/1e3),a=Math.floor(t/31536e3);return a>1?"".concat(a," years"):(a=Math.floor(t/2592e3))>1?"".concat(a," months"):(a=Math.floor(t/86400))>1?"".concat(a," days"):(a=Math.floor(t/3600))>1?"".concat(a," hours"):(a=Math.floor(t/60))>1?"".concat(a," minutes"):"".concat(Math.floor(t)," seconds")}(e.time)," "))," "))})),o.a.createElement(m.a,{style:{listStyleType:"none",display:"flex"},previousLabel:"<<",nextLabel:">>",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.handlepageclick,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})))}}]),a}(s.Component)),b=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).getData=function(){g.a.get("".concat(s.state.base,"newstories.json")).then((function(e){console.log(e.data);var t=e.data.slice(0,100).map((function(e){return g.a.get("https://hacker-news.firebaseio.com/v0/item/".concat(e,".json")).then((function(e){return e.data}))}));Promise.all(t).then((function(e){console.log(e),s.setState({promises:e},(function(){}))}))}))},s.componentWillUnmount=function(){localStorage.setItem("product-list",s.state.promises),s.componentCleanup(),window.removeEventListener("beforeunload",s.componentCleanup)},s.state={error:!1,items:[],searchItem:"newstories",promises:[{}],storage:[{}],base:"https://hacker-news.firebaseio.com/v0/",extension:".json?print=pretty"},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getData();var e=window.localStorage.getItem("product-list");e=null===e||""===e?[{}]:e,this.setState({storage:e}),window.addEventListener("beforeunload",this.componentCleanup)}},{key:"render",value:function(){return o.a.createElement("div",{style:{width:"100vw",overflowX:"hidden",scrollbarWidth:"none"}},this.state.promises.length<50?o.a.createElement("div",{className:"loading"}):o.a.createElement(o.a.Fragment,null,o.a.createElement(f,{story:this.state.promises,storage:this.state.storage})))}}]),a}(s.Component),v=function(){return o.a.createElement(b,null)};Object(n.render)(o.a.createElement(v,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.4fc2e9cc.chunk.js.map