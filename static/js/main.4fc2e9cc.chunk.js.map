{"version":3,"sources":["Story.js","mapTime.js","StoriesContainer.js","App.js","index.js"],"names":["Story","props","handleitems","e","count","target","value","setState","perpage","parseInt","pageCount","Math","ceil","story","length","state","slice","orgtabledata","offset","tabledata","handleChange","console","log","order","sort","w1","_","orderBy","data","handlepageclick","selectedPage","selected","currentPage","loadMoreData","sortdata","currentpage","ord","this","getdata","className","htmlFor","id","defaultValue","onChange","style","backgroundColor","itemsperpage","map","index","key","href","url","title","color","fontWeight","by","score","timestamp","seconds","floor","Date","interval","mapTime","time","listStyleType","display","previousLabel","nextLabel","breakLabel","breakClassName","marginPagesDisplayed","pageRangeDisplayed","onPageChange","containerClassName","subContainerClassName","activeClassName","Component","StoriesContainer","getData","axios","get","base","then","result","promises","res","Promise","all","componentWillUnmount","localStorage","setItem","componentCleanup","window","removeEventListener","error","items","searchItem","storage","extension","productList","getItem","addEventListener","width","overflowX","scrollbarWidth","App","render","document","getElementById"],"mappings":"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","file":"static/js/main.4fc2e9cc.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { mapTime } from './mapTime';\nimport  ReactPaginate from  'react-paginate';\nimport _ from 'lodash';\nimport './story.css'\nexport default class Story extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      offset:0,\n      tabledata:[{}],\n      orgtabledata:[{}],\n      sortdata:[{}],\n      perpage:10,\n      currentpage:0,\n      sort:\"time\",\n      ord:\"\"\n       \n  }\n  }\n  componentDidMount(){\n    this.getdata();\n}\ngetdata(){\n\n  this.setState({orgtabledata:this.props.story,pageCount:Math.ceil(this.props.story.length/this.state.perpage)},\n    ()=>{\n    var slice=this.state.orgtabledata.slice(this.state.offset,this.state.offset+this.state.perpage)\n   this.setState({ tabledata:slice})\n    \n  })}\n  handleitems=(e)=>{\n    const count=e.target.value;\n    this.setState({perpage:parseInt(count)},()=>{\n      this.setState({pageCount:Math.ceil(this.props.story.length/this.state.perpage),},()=>{\n        var slice=this.state.orgtabledata.slice(this.state.offset,this.state.offset+this.state.perpage)\n        this.setState({ tabledata:slice})\n      })\n\n    })\n  \n  }\nhandleChange=(e)=>{\n  console.log(e.target.value)\n  var order=e.target.value;\n  this.setState({sort: e.target.value},()=>{\n      (console.log(this.state.sort))\n  { if(order===\"title\") {\n        this.setState({sort:\"title\"})\n    var w1= ( _.orderBy(this.state.orgtabledata,['title'],['asc'] ))\n    console.log(w1)\n    this.setState({orgtabledata:w1},()=>{\n      const data = this.state.orgtabledata;\n      \n      const slice = data.slice(this.state.offset, this.state.offset + this.state.perpage)\n      this.setState({\n          pageCount: Math.ceil(data.length / this.state.perpage),\n          tabledata:slice\n\n    })\n    \n  })\n      \n  }}\n\n      \n      { if(order===\"time\" ){\n       w1= ( _.orderBy(this.state.orgtabledata,['time'],['asc'] ))\n      console.log(w1)  \n      this.setState({orgtabledata:this.props.story},()=>{\n          const data = this.state.orgtabledata;\n          \n          const slice = data.slice(this.state.offset, this.state.offset + this.state.perpage)\n          this.setState({\n              pageCount: Math.ceil(data.length / this.state.perpage),\n              tabledata:slice\n\n        })\n        \n      })}\n      \n      \n  } { if(order===\"by\" ){\n    this.setState({sort:\"by\"})\n     w1= ( _.orderBy(this.state.orgtabledata,['by'],['asc'] ))\n    console.log(w1)\n    this.setState({orgtabledata:w1},()=>{\n        const data = this.state.orgtabledata;\n        \n        const slice = data.slice(this.state.offset, this.state.offset + this.state.perpage)\n        this.setState({\n            pageCount: Math.ceil(data.length / this.state.perpage),\n            tabledata:slice\n\n      })\n      \n    })\n}\n\n}\n      { if(order===\"score\" ){\n          this.setState({sort:\"score\"})\n           w1= ( _.orderBy(this.state.orgtabledata,['score'],['desc'] ))\n          console.log(w1)\n          this.setState({orgtabledata:w1},()=>{\n              const data = this.state.orgtabledata;\n              \n              const slice = data.slice(this.state.offset, this.state.offset + this.state.perpage)\n              this.setState({\n                  pageCount: Math.ceil(data.length / this.state.perpage),\n                  tabledata:slice\n  \n            })\n            \n          })\n      }\n   \n  }\n     \n     \n  })\n  // \n}\n\n\nhandlepageclick = (e) => {\n  const selectedPage = e.selected;\n  const offset = selectedPage * this.state.perpage;\n\n  this.setState({\n      currentPage: selectedPage,\n      offset: offset\n  }, () => {\n      this.loadMoreData()\n  });\n\n};\n\nloadMoreData() {\n  const data = this.state.orgtabledata;\n  \n  const slice = data.slice(this.state.offset, this.state.offset + this.state.perpage)\n  this.setState({\n      pageCount: Math.ceil(data.length / this.state.perpage),\n      tabledata:slice\n  })\n\n}\n  render() { \n    return this.props.story && (\n    \n      <div className=\"maindiv\">\n      <div className=\"sort\">\n      <label htmlFor=\"sort\">SORT BY\n                    \n      <select id=\"sort\"\n      defaultValue={this.state.sort} \n      onChange={this.handleChange} \n      >\n         <option value=\"time\">time</option>\n         <option value=\"title\">title</option>\n         <option value=\"score\">score</option>\n         <option value=\"by\">score</option>\n       </select>\n      </label>\n      <div>\n      <label  htmlFor=\"itemsperpage\">Display Items per page:\n      <select id=\"itemsperpage\" style={{backgroundColor:\"antiquewhite\"}}\n      defaultValue={this.state.itemsperpage} \n      onChange={this.handleitems} \n      >\n         <option value=\"10\">10</option>\n         <option value=\"20\">20</option>\n         <option value=\"30\">30</option>\n         <option value=\"40\">40</option>\n       </select>\n      \n      </label>\n      </div>\n      </div>\n      \n      <h1 className=\"heading\">Hacker New Stories</h1>\n      <div className=\"back\">\n      {this.state.tabledata.map((story,index)=>(\n  \n       \n      <div className=\"StoryWrapper\" key={index}>\n    <a  className=\"hello\" href={story.url}>  \n    <div className=\"storytitle\">\n    {story.title}\n    </div>\n    <div className=\"body\">\n    <span className=\"story-by\" style={{color:\"black\",fontWeight:\"800\"}}>\n    By: \n  </span>\n  <span className=\"story-by\" style={{color:\"black\"}}>\n  {story.by}{` `}\n  </span>\n  <span className=\"store-score\" style={{color:\"black\" ,fontWeight:\"800\"}}>\n  score:\n  </span>\n  <span className=\"store-score\" style={{color:\"black\"}}>\n  {story.score}{` `}\n  </span>\n  \n  <span className=\"story-time\" style={{color:\"black\" ,fontWeight:\"700\"}}>\n  posted:{` `}  </span>\n  <span className=\"story-time\" style={{color:\"black\" }}>\n  {` `} {mapTime(story.time)} </span>\n    </div> </a>\n    </div>\n     ))}\n     <ReactPaginate style={{listStyleType:\"none\",\n      display: \"flex\"}}\n     previousLabel={\"<<\"}\n     nextLabel={\">>\"}\n     breakLabel={\"...\"}\n     breakClassName={\"break-me\"}\n     pageCount={this.state.pageCount}\n     marginPagesDisplayed={2}\n     pageRangeDisplayed={5}\n     onPageChange={this.handlepageclick}\n     containerClassName={\"pagination\"}\n     subContainerClassName={\"pages pagination\"}\n     activeClassName={\"active\"}\n    \n     />\n     </div>\n  </div>\n    );;\n  }\n}\n \n\n    \n\n\n\n\n\n\n\n\n\n//     render() {\n//         return (\n//             <div>\n          \n                    \n\n        \n//     <ReactPaginate\n//     previousLabel={\"pre\"}\n//     nextLabel={\"nex\"}\n//     breakLabel={\"...\"}\n//     breakClassName={\"break-me\"}\n//     pageCount={this.state.pageCount}\n//     marginPagesDisplayed={2}\n//     pageRangeDisplayed={5}\n//     onPageChange={this.handlepageclick}// =(e)=>this.handleclick(e) then no need of binding\n//     containerClassName={\"pagination\"}\n//     subContainerClassName={\"pages pagination\"}\n//     activeClassName={\"active\"}\n   \n//     />\n\n//             </div>\n//         )\n//     }\n// }\n\n// export default First;\n\n","export const mapTime = timestamp => {\n  const seconds = Math.floor((new Date() - timestamp * 1000) / 1000);\n\n  let interval = Math.floor(seconds / 31536000);\n\n  if (interval > 1) {\n    return `${interval} years`;\n  }\n  interval = Math.floor(seconds / 2592000);\n\n  if (interval > 1) {\n    return `${interval} months`;\n  }\n  interval = Math.floor(seconds / 86400);\n\n  if (interval > 1) {\n    return `${interval} days`;\n  }\n  interval = Math.floor(seconds / 3600);\n\n  if (interval > 1) {\n    return `${interval} hours`;\n  }\n  interval = Math.floor(seconds / 60);\n\n  if (interval > 1) {\n    return `${interval} minutes`;\n  }\n\n  return `${Math.floor(seconds)} seconds`;\n};\n","import React, { Component } from 'react';\nimport axios from 'axios'\nimport  Story  from './Story'\nclass StoriesContainer extends Component {\n  constructor(props) {\n    \n    super(props);\n    \n    this.state = {\n      error: false,\n      items: [],\n      searchItem: \"newstories\",\n      promises: [{}],\n      storage:[{}],\n      base:'https://hacker-news.firebaseio.com/v0/',\n      extension: \".json?print=pretty\"\n     };}\n    \n    componentDidMount() { \n    \n      this.getData();\n    var productList = window.localStorage.getItem('product-list');\n    productList = productList === null || productList === '' ? [{}] : productList;\n   this.setState({storage:productList})\n   window.addEventListener('beforeunload', this.componentCleanup);\n   \n   }\n    getData = () =>{\n      axios\n      .get(`${this.state.base}newstories.json`)\n      .then(result => {console.log(result.data)\n      \n       const topStories = result.data.slice(0,100);\n       const promises = topStories.map(story => {\n         return axios.get(`https://hacker-news.firebaseio.com/v0/item/${story}.json`).then(res => res.data)\n       })\n       Promise.all(promises).then(data => {\n         console.log(data)\n         this.setState({ promises: data },()=>{\n         // localStorage.setItem('-list',data);\n         })\n       });\n  })\n  \n    }\n    \n    componentWillUnmount = () => {\n      localStorage.setItem('product-list',this.state.promises);\n      this.componentCleanup();\n      window.removeEventListener('beforeunload', this.componentCleanup); // remove the event handler for normal unmounting\n    };\n    render() {\n    \n    let counter = 0;\n    \n    return (<div style={{width:\"100vw\",overflowX:'hidden',scrollbarWidth: \"none\"  }}>\n      \n      {this.state.promises.length<50?<div className=\"loading\"></div>: (<>\n        \n        <Story story={this.state.promises} storage={this.state.storage}/></> )}\n      </div>\n     );\n     }\n    }\n \nexport default StoriesContainer;\n","import React from 'react';\nimport  StoriesContainer from './StoriesContainer';\n\nexport const App = () => <StoriesContainer />;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { App } from './App';\n\n\nrender(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}